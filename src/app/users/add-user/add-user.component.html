<div class="row" *ngIf="redirectTo(user)">
  <div *ngIf="errorMessage" class="col-md-12">
    <span class="help-block"><h3>{{errorMessage}}</h3></span>
  </div>
  <div class="col-md-12 panel panel-success">
    <form (ngSubmit)="onAddUser(f)" #f="ngForm">
      <div class="col-sm-6">
        <div class="form-group">
          <label for="username">username</label>
          <input
            autofocus
            placeholder="username  *"
            type="text"
            id="username"
            class="form-control"
            name="username"
            minlength="4"
            ngModel
            #username="ngModel"
            [ngModel]="editMode ? user.username : ''"
            required
          >
          <div *ngIf="!username.valid && username.touched">
            <span class="help-block"
                  *ngIf="username.hasError('required')"
            >Username is required!</span>
            <span class="help-block"
                  *ngIf="username.hasError('minlength')"
            >Username must be at least 4 characters long!</span>
          </div>
        </div>
        <div class="form-group">
          <label for="name">name</label>
          <input
            placeholder="name  *"
            type="text"
            id="name"
            class="form-control"
            name="name"
            required
            minlength="4"
            ngModel
            #name="ngModel"
            [ngModel]="editMode ? user.name : ''"
          >
          <div *ngIf="!name.valid && name.touched">
            <span class="help-block"
                  *ngIf="name.hasError('required')"
            >Name is required!</span>
            <span class="help-block"
                  *ngIf="name.hasError('minlength')"
            >Name must be at least 4 characters long!</span>
          </div>
        </div>
        <div class="form-group">
          <label for="email">email</label>
          <input
            placeholder="email  *"
            type="text"
            id="email"
            class="form-control"
            name="email"
            email
            required
            ngModel
            #email="ngModel"
            [ngModel]="editMode ? user.email : ''"
          >
          <div *ngIf="!email.valid && email.touched">
            <!--<span class="help-block"
                  *ngIf="email.hasError('required')"
            >Email is required!</span>-->
            <span class="help-block"
                  *ngIf="email.hasError('email')"
            >Please enter a valid email!</span>
          </div>
        </div>
        <div class="form-group">
          <label for="phone">phone</label>
          <input
            placeholder="phone  *"
            type="text"
            id="phone"
            class="form-control"
            name="phone"
            required
            minlength="6"
            ngModel
            #phone="ngModel"
            [ngModel]="editMode ? user.phone : ''"
          >
          <div *ngIf="!phone.valid && phone.touched">
            <span class="help-block"
                  *ngIf="phone.hasError('required')"
            >Phone is required!</span>
            <span class="help-block"
                  *ngIf="phone.hasError('minlength')"
            >Phone number must be at least 6 characters long!</span>
          </div>
        </div>
        <div class="form-group">
          <label for="company_name">company</label>
          <input
            placeholder="company name  *"
            type="text"
            id="company_name"
            class="form-control"
            name="company_name"
            required
            minlength="4"
            ngModel
            #company_name="ngModel"
            [ngModel]="editMode ? user.company.name : ''"
          >
          <div *ngIf="!company_name.valid && company_name.touched">
            <span class="help-block"
                  *ngIf="company_name.hasError('required')"
            >Company name is required!</span>
            <span class="help-block"
                  *ngIf="company_name.hasError('minlength')"
            >Company name must be at least 4 characters long!</span>
          </div>
        </div>
        <div class="form-group">
          <input
            placeholder="catch Phrase"
            type="text"
            id="catch_phrase"
            class="form-control"
            name="catch_phrase"
            ngModel
            #catch_phrase="ngModel"
            [ngModel]="editMode ? user.company.catchPhrase : ''"
          >
        </div>
        <div class="form-group">
          <input
            placeholder="bs"
            type="text"
            id="bs"
            class="form-control"
            name="bs"
            ngModel
            #bs="ngModel"
            [ngModel]="editMode ? user.company.bs : ''"
          >
        </div>
      </div>
      <div class="col-sm-6">
        <div class="form-group">
          <label for="website">website</label>
          <input
            placeholder="website  *"
            type="text"
            id="website"
            class="form-control"
            name="website"
            required
            ngModel
            minlength="6"
            #website="ngModel"
            [ngModel]="editMode ? user.website : ''"
          >
          <div *ngIf="!website.valid && website.touched">
            <span class="help-block"
                  *ngIf="website.hasError('required')"
            >Website is required!</span>
            <span class="help-block"
                  *ngIf="website.hasError('minlength')"
            >Website must be at least 6 characters long!</span>
          </div>
        </div>
        <div class="form-group">
          <label for="street">address</label>
          <input
            placeholder="street  *"
            type="text"
            id="street"
            class="form-control"
            name="street"
            minlength="4"
            required
            ngModel
            #street="ngModel"
            [ngModel]="editMode ? user.address.street : ''"
          >
          <div *ngIf="!street.valid && street.touched">
            <span class="help-block"
                  *ngIf="street.hasError('required')"
            >Street is required!</span>
            <span class="help-block"
                  *ngIf="street.hasError('minlength')"
            >Street must be at least 4 characters long!</span>
          </div>
        </div>
        <div class="form-group">
          <input
            placeholder="suite"
            type="text"
            id="suite"
            class="form-control"
            name="suite"
            ngModel
            #suite="ngModel"
            [ngModel]="editMode ? user.address.suite : ''"
          >
        </div>
        <div class="form-group">
          <input
            placeholder="city  *"
            type="text"
            id="city"
            class="form-control"
            name="city"
            required
            minlength="3"
            ngModel
            #city="ngModel"
            [ngModel]="editMode ? user.address.city : ''"
          >
          <div *ngIf="!city.valid && city.touched">
            <span class="help-block"
                  *ngIf="city.hasError('required')"
            >City is required!</span>
            <span class="help-block"
                  *ngIf="city.hasError('minlength')"
            >City must be at least 4 characters long!</span>
          </div>
        </div>
        <div class="form-group">
          <input
            placeholder="zipcode  *"
            type="text"
            id="zipcode"
            class="form-control"
            name="zipcode"
            required
            minlength="4"
            maxlength="14"
            ngModel
            #zipcode="ngModel"
            [ngModel]="editMode ? user.address.zipcode : ''"
          >
          <div *ngIf="!zipcode.valid && zipcode.touched">
            <span class="help-block"
                  *ngIf="zipcode.hasError('required')"
            >Zip-code is required!</span>
            <span class="help-block"
                  *ngIf="zipcode.hasError('minlength') ||
                         zipcode.hasError('maxlength')"
            >Zip-code must be between 4 and 14 characters long!</span>
          </div>
        </div>
        <div class="form-group col-xs-8">
          <input
            placeholder="geo-lat"
            type="text"
            id="geo_lat"
            class="form-control"
            name="geo_lat"
            ngModel
            #geo_lat="ngModel"
            [ngModel]="editMode ? user.address.geo.lat : ''"
          >
          <input
            placeholder="geo-lgn"
            type="text"
            id="geo_lgn"
            class="form-control"
            name="geo_lgn"
            ngModel
            #geo_lgn="ngModel"
            [ngModel]="editMode ? user.address.geo.lng : ''"
          >
        </div>
        <div class="form-group col-xs-12">
          <label for="password">password</label>
          <input
            placeholder="password *"
            type="password"
            id="password"
            class="form-control"
            name="password"
            required
            minlength="4"
            validateEqual="retype_password"
            reverse="true"
            ngModel
            #password="ngModel"
            [ngModel]="editMode ? user.password : ''"
          >
          <div *ngIf="!password.valid && password.touched">
            <span class="help-block"
                  *ngIf="!password.hasError('minlength')">Password must have at least 4 characters!</span>
          </div>
          <input
            placeholder="retype password *"
            type="password"
            id="retype_password"
            class="form-control"
            name="retype_password"
            ngModel
            validateEqual="password"
            reverse="false"
            required
            #retype_password="ngModel"
            [ngModel]="editMode ? user.password : ''"
          >
          <div *ngIf="!retype_password.valid && retype_password.touched">
            <span class="help-block"
                  *ngIf="!retype_password.hasError('validateEqual')">Passwords must match!</span>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <button type="submit"
                  class="btn btn-success"
                  [disabled]="!f.valid"
          >{{editMode ? 'Update': 'Save'}}</button>
          <button type="button" class="btn btn-info" (click)="onReset()">Reset</button>
        </div>
      </div>
      <br>
    </form>
  </div>
</div>

